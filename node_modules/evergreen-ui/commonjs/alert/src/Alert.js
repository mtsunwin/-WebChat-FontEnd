'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _uiBox = require('ui-box');

var _colors = require('../../colors');

var _layers = require('../../layers');

var _typography = require('../../typography');

var _buttons = require('../../buttons');

var _icons = require('../../icons');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var getColorForType = function getColorForType(type) {
  switch (type) {
    case 'success':
      return _colors.colors.green['500'];
    case 'question':
    default:
      return _colors.colors.blue['500'];
    case 'danger':
      return _colors.colors.red['500'];
    case 'warning':
      return _colors.colors.yellow['500'];
  }
};

var getIconForType = function getIconForType(type) {
  var iconProps = {
    size: 22,
    iconSize: 14,
    color: getColorForType(type)
  };

  switch (type) {
    case 'success':
      return _react2.default.createElement(_icons.CheckCircleIcon, iconProps);
    case 'question':
    default:
      return _react2.default.createElement(_icons.QuestionIcon, iconProps);
    case 'danger':
      return _react2.default.createElement(_icons.DangerIcon, iconProps);
    case 'warning':
      return _react2.default.createElement(_icons.WarningIcon, iconProps);
  }
};

var getStyle = function getStyle(_ref) {
  var type = _ref.type;
  return {
    '&:before': {
      content: '""',
      width: 3,
      height: '100%',
      position: 'absolute',
      top: 0,
      left: 0,
      backgroundColor: getColorForType(type)
    }
  };
};

var AlertAppearances = {
  default: {
    boxShadow: 'inset 0 0 0 1px ' + _colors.colors.neutral['20A']
  },
  card: {
    elevation: 1,
    borderRadius: 3
  }
};

var Alert = function (_PureComponent) {
  _inherits(Alert, _PureComponent);

  function Alert() {
    _classCallCheck(this, Alert);

    return _possibleConstructorReturn(this, (Alert.__proto__ || Object.getPrototypeOf(Alert)).apply(this, arguments));
  }

  _createClass(Alert, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          title = _props.title,
          type = _props.type,
          hasTrim = _props.hasTrim,
          hasIcon = _props.hasIcon,
          children = _props.children,
          appearance = _props.appearance,
          isRemoveable = _props.isRemoveable,
          onRemove = _props.onRemove,
          props = _objectWithoutProperties(_props, ['title', 'type', 'hasTrim', 'hasIcon', 'children', 'appearance', 'isRemoveable', 'onRemove']);

      var style = {};
      if (hasTrim && type !== 'default') {
        style = getStyle({ type: type });
      }

      var appearanceProps = AlertAppearances[appearance];

      return _react2.default.createElement(
        _layers.Pane,
        _extends({
          role: 'alert',
          backgroundColor: 'white',
          overflow: 'hidden',
          position: 'relative',
          display: 'flex',
          paddingY: 12,
          paddingX: 16,
          css: style
        }, appearanceProps, props),
        hasIcon && type !== 'default' && _react2.default.createElement(
          _layers.Pane,
          { marginRight: 8 },
          getIconForType(type)
        ),
        _react2.default.createElement(
          _layers.Pane,
          { display: 'flex', width: '100%' },
          _react2.default.createElement(
            _layers.Pane,
            { flex: 1 },
            _react2.default.createElement(
              _typography.Text,
              {
                is: 'h4',
                fontWeight: 600,
                size: 400,
                marginTop: 0,
                marginBottom: 0
              },
              title
            ),
            typeof children === 'string' ? _react2.default.createElement(
              _typography.Text,
              { size: 400, color: 'muted' },
              children
            ) : children
          ),
          isRemoveable && _react2.default.createElement(
            _layers.Pane,
            { marginLeft: 24, flexShrink: 0 },
            _react2.default.createElement(_buttons.IconButton, {
              onClick: onRemove,
              height: 24,
              appearance: 'ghost',
              icon: 'close'
            })
          )
        )
      );
    }
  }]);

  return Alert;
}(_react.PureComponent);

Alert.propTypes = _extends({}, _uiBox.spacing.propTypes, _uiBox.position.propTypes, _uiBox.layout.propTypes, _uiBox.dimensions.propTypes, {

  /**
   * The content of the alert. When a string is passed it is wrapped in a `<Text size={400} />` component.
   */
  children: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.node]),

  /**
   * The type of the alert.
   */
  type: _propTypes2.default.oneOf(['default', 'success', 'warning', 'danger', 'question']),

  /**
   * The title of the alert.
   */
  title: _propTypes2.default.node,

  /**
   * When true, show a border on the left matching the type.
   */
  hasTrim: _propTypes2.default.bool,

  /**
   * When true, show a icon on the left matching the type,
   */
  hasIcon: _propTypes2.default.bool,

  /**
   * When true, show a remove icon button.
   */
  isRemoveable: _propTypes2.default.bool,

  /**
   * Function called when the remove button is clicked.
   */
  onRemove: _propTypes2.default.func,

  /**
   * The appearance of the alert.
   */
  appearance: _propTypes2.default.oneOf(['default', 'card'])
});
Alert.defaultProps = {
  type: 'default',
  hasTrim: true,
  hasIcon: true,
  isRemoveable: false,
  appearance: 'default'
};
exports.default = Alert;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9hbGVydC9zcmMvQWxlcnQuanMiXSwibmFtZXMiOlsiZ2V0Q29sb3JGb3JUeXBlIiwidHlwZSIsImdyZWVuIiwiYmx1ZSIsInJlZCIsInllbGxvdyIsImdldEljb25Gb3JUeXBlIiwiaWNvblByb3BzIiwic2l6ZSIsImljb25TaXplIiwiY29sb3IiLCJnZXRTdHlsZSIsImNvbnRlbnQiLCJ3aWR0aCIsImhlaWdodCIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsImJhY2tncm91bmRDb2xvciIsIkFsZXJ0QXBwZWFyYW5jZXMiLCJkZWZhdWx0IiwiYm94U2hhZG93IiwibmV1dHJhbCIsImNhcmQiLCJlbGV2YXRpb24iLCJib3JkZXJSYWRpdXMiLCJBbGVydCIsInByb3BzIiwidGl0bGUiLCJoYXNUcmltIiwiaGFzSWNvbiIsImNoaWxkcmVuIiwiYXBwZWFyYW5jZSIsImlzUmVtb3ZlYWJsZSIsIm9uUmVtb3ZlIiwic3R5bGUiLCJhcHBlYXJhbmNlUHJvcHMiLCJwcm9wVHlwZXMiLCJvbmVPZlR5cGUiLCJzdHJpbmciLCJub2RlIiwib25lT2YiLCJib29sIiwiZnVuYyIsImRlZmF1bHRQcm9wcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7Ozs7O0FBT0EsSUFBTUEsa0JBQWtCLFNBQWxCQSxlQUFrQixPQUFRO0FBQzlCLFVBQVFDLElBQVI7QUFDRSxTQUFLLFNBQUw7QUFDRSxhQUFPLGVBQU9DLEtBQVAsQ0FBYSxLQUFiLENBQVA7QUFDRixTQUFLLFVBQUw7QUFDQTtBQUNFLGFBQU8sZUFBT0MsSUFBUCxDQUFZLEtBQVosQ0FBUDtBQUNGLFNBQUssUUFBTDtBQUNFLGFBQU8sZUFBT0MsR0FBUCxDQUFXLEtBQVgsQ0FBUDtBQUNGLFNBQUssU0FBTDtBQUNFLGFBQU8sZUFBT0MsTUFBUCxDQUFjLEtBQWQsQ0FBUDtBQVRKO0FBV0QsQ0Fa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QUhiO0FBSUUsb0JBQUs7QUFKUDtBQURGO0FBcEJKO0FBaEJGLE9BREY7QUFpREQ7Ozs7OztBQXRJa0JSLEssQ0FDWlcsUyxnQkFJRixlQUFRQSxTLEVBQ1IsZ0JBQVNBLFMsRUFDVCxjQUFPQSxTLEVBQ1Asa0JBQVdBLFM7O0FBRWQ7OztBQUdBTixZQUFVLG9CQUFVTyxTQUFWLENBQW9CLENBQUMsb0JBQVVDLE1BQVgsRUFBbUIsb0JBQVVDLElBQTdCLENBQXBCLEM7O0FBRVY7OztBQUdBdkMsUUFBTSxvQkFBVXdDLEtBQVYsQ0FBZ0IsQ0FDcEIsU0FEb0IsRUFFcEIsU0FGb0IsRUFHcEIsU0FIb0IsRUFJcEIsUUFKb0IsRUFLcEIsVUFMb0IsQ0FBaEIsQzs7QUFRTjs7O0FBR0FiLFNBQU8sb0JBQVVZLEk7O0FBRWpCOzs7QUFHQVgsV0FBUyxvQkFBVWEsSTs7QUFFbkI7OztBQUdBWixXQUFTLG9CQUFVWSxJOztBQUVuQjs7O0FBR0FULGdCQUFjLG9CQUFVUyxJOztBQUV4Qjs7O0FBR0FSLFlBQVUsb0JBQVVTLEk7O0FBRXBCOzs7QUFHQVgsY0FBWSxvQkFBVVMsS0FBVixDQUFnQixDQUFDLFNBQUQsRUFBWSxNQUFaLENBQWhCOztBQXRES2YsSyxDQXlEWmtCLFksR0FBZTtBQUNwQjNDLFFBQU0sU0FEYztBQUVwQjRCLFdBQVMsSUFGVztBQUdwQkMsV0FBUyxJQUhXO0FBSXBCRyxnQkFBYyxLQUpNO0FBS3BCRCxjQUFZO0FBTFEsQztrQkF6REhOLEsiLCJmaWxlIjoiQWxlcnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgUHVyZUNvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJ1xuaW1wb3J0IHsgc3BhY2luZywgZGltZW5zaW9ucywgcG9zaXRpb24sIGxheW91dCB9IGZyb20gJ3VpLWJveCdcbmltcG9ydCB7IGNvbG9ycyB9IGZyb20gJy4uLy4uL2NvbG9ycydcbmltcG9ydCB7IFBhbmUgfSBmcm9tICcuLi8uLi9sYXllcnMnXG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnLi4vLi4vdHlwb2dyYXBoeSdcbmltcG9ydCB7IEljb25CdXR0b24gfSBmcm9tICcuLi8uLi9idXR0b25zJ1xuaW1wb3J0IHtcbiAgQ2hlY2tDaXJjbGVJY29uLFxuICBEYW5nZXJJY29uLFxuICBRdWVzdGlvbkljb24sXG4gIFdhcm5pbmdJY29uXG59IGZyb20gJy4uLy4uL2ljb25zJ1xuXG5jb25zdCBnZXRDb2xvckZvclR5cGUgPSB0eXBlID0+IHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnc3VjY2Vzcyc6XG4gICAgICByZXR1cm4gY29sb3JzLmdyZWVuWyc1MDAnXVxuICAgIGNhc2UgJ3F1ZXN0aW9uJzpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGNvbG9ycy5ibHVlWyc1MDAnXVxuICAgIGNhc2UgJ2Rhbmdlcic6XG4gICAgICByZXR1cm4gY29sb3JzLnJlZFsnNTAwJ11cbiAgICBjYXNlICd3YXJuaW5nJzpcbiAgICAgIHJldHVybiBjb2xvcnMueWVsbG93Wyc1MDAnXVxuICB9XG59XG5cbmNvbnN0IGdldEljb25Gb3JUeXBlID0gdHlwZSA9PiB7XG4gIGNvbnN0IGljb25Qcm9wcyA9IHtcbiAgICBzaXplOiAyMixcbiAgICBpY29uU2l6ZTogMTQsXG4gICAgY29sb3I6IGdldENvbG9yRm9yVHlwZSh0eXBlKVxuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnc3VjY2Vzcyc6XG4gICAgICByZXR1cm4gPENoZWNrQ2lyY2xlSWNvbiB7Li4uaWNvblByb3BzfSAvPlxuICAgIGNhc2UgJ3F1ZXN0aW9uJzpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIDxRdWVzdGlvbkljb24gey4uLmljb25Qcm9wc30gLz5cbiAgICBjYXNlICdkYW5nZXInOlxuICAgICAgcmV0dXJuIDxEYW5nZXJJY29uIHsuLi5pY29uUHJvcHN9IC8+XG4gICAgY2FzZSAnd2FybmluZyc6XG4gICAgICByZXR1cm4gPFdhcm5pbmdJY29uIHsuLi5pY29uUHJvcHN9IC8+XG4gIH1cbn1cblxuY29uc3QgZ2V0U3R5bGUgPSAoeyB0eXBlIH0pID0+ICh7XG4gICcmOmJlZm9yZSc6IHtcbiAgICBjb250ZW50OiAnXCJcIicsXG4gICAgd2lkdGg6IDMsXG4gICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdG9wOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgYmFja2dyb3VuZENvbG9yOiBnZXRDb2xvckZvclR5cGUodHlwZSlcbiAgfVxufSlcblxuY29uc3QgQWxlcnRBcHBlYXJhbmNlcyA9IHtcbiAgZGVmYXVsdDoge1xuICAgIGJveFNoYWRvdzogYGluc2V0IDAgMCAwIDFweCAke2NvbG9ycy5uZXV0cmFsWycyMEEnXX1gXG4gIH0sXG4gIGNhcmQ6IHtcbiAgICBlbGV2YXRpb246IDEsXG4gICAgYm9yZGVyUmFkaXVzOiAzXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxlcnQgZXh0ZW5kcyBQdXJlQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAvKipcbiAgICAgKiBDb21wb3NlcyBzb21lIEJveCBBUElzLlxuICAgICAqL1xuICAgIC4uLnNwYWNpbmcucHJvcFR5cGVzLFxuICAgIC4uLnBvc2l0aW9uLnByb3BUeXBlcyxcbiAgICAuLi5sYXlvdXQucHJvcFR5cGVzLFxuICAgIC4uLmRpbWVuc2lvbnMucHJvcFR5cGVzLFxuXG4gICAgLyoqXG4gICAgICogVGhlIGNvbnRlbnQgb2YgdGhlIGFsZXJ0LiBXaGVuIGEgc3RyaW5nIGlzIHBhc3NlZCBpdCBpcyB3cmFwcGVkIGluIGEgYDxUZXh0IHNpemU9ezQwMH0gLz5gIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm5vZGVdKSxcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBhbGVydC5cbiAgICAgKi9cbiAgICB0eXBlOiBQcm9wVHlwZXMub25lT2YoW1xuICAgICAgJ2RlZmF1bHQnLFxuICAgICAgJ3N1Y2Nlc3MnLFxuICAgICAgJ3dhcm5pbmcnLFxuICAgICAgJ2RhbmdlcicsXG4gICAgICAncXVlc3Rpb24nXG4gICAgXSksXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGl0bGUgb2YgdGhlIGFsZXJ0LlxuICAgICAqL1xuICAgIHRpdGxlOiBQcm9wVHlwZXMubm9kZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgc2hvdyBhIGJvcmRlciBvbiB0aGUgbGVmdCBtYXRjaGluZyB0aGUgdHlwZS5cbiAgICAgKi9cbiAgICBoYXNUcmltOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgc2hvdyBhIGljb24gb24gdGhlIGxlZnQgbWF0Y2hpbmcgdGhlIHR5cGUsXG4gICAgICovXG4gICAgaGFzSWNvbjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRydWUsIHNob3cgYSByZW1vdmUgaWNvbiBidXR0b24uXG4gICAgICovXG4gICAgaXNSZW1vdmVhYmxlOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSByZW1vdmUgYnV0dG9uIGlzIGNsaWNrZWQuXG4gICAgICovXG4gICAgb25SZW1vdmU6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgLyoqXG4gICAgICogVGhlIGFwcGVhcmFuY2Ugb2YgdGhlIGFsZXJ0LlxuICAgICAqL1xuICAgIGFwcGVhcmFuY2U6IFByb3BUeXBlcy5vbmVPZihbJ2RlZmF1bHQnLCAnY2FyZCddKVxuICB9XG5cbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICB0eXBlOiAnZGVmYXVsdCcsXG4gICAgaGFzVHJpbTogdHJ1ZSxcbiAgICBoYXNJY29uOiB0cnVlLFxuICAgIGlzUmVtb3ZlYWJsZTogZmFsc2UsXG4gICAgYXBwZWFyYW5jZTogJ2RlZmF1bHQnXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgdGl0bGUsXG4gICAgICB0eXBlLFxuICAgICAgaGFzVHJpbSxcbiAgICAgIGhhc0ljb24sXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGFwcGVhcmFuY2UsXG4gICAgICBpc1JlbW92ZWFibGUsXG4gICAgICBvblJlbW92ZSxcbiAgICAgIC4uLnByb3BzXG4gICAgfSA9IHRoaXMucHJvcHNcblxuICAgIGxldCBzdHlsZSA9IHt9XG4gICAgaWYgKGhhc1RyaW0gJiYgdHlwZSAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgICBzdHlsZSA9IGdldFN0eWxlKHsgdHlwZSB9KVxuICAgIH1cblxuICAgIGNvbnN0IGFwcGVhcmFuY2VQcm9wcyA9IEFsZXJ0QXBwZWFyYW5jZXNbYXBwZWFyYW5jZV1cblxuICAgIHJldHVybiAoXG4gICAgICA8UGFuZVxuICAgICAgICByb2xlPVwiYWxlcnRcIlxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9XCJ3aGl0ZVwiXG4gICAgICAgIG92ZXJmbG93PVwiaGlkZGVuXCJcbiAgICAgICAgcG9zaXRpb249XCJyZWxhdGl2ZVwiXG4gICAgICAgIGRpc3BsYXk9XCJmbGV4XCJcbiAgICAgICAgcGFkZGluZ1k9ezEyfVxuICAgICAgICBwYWRkaW5nWD17MTZ9XG4gICAgICAgIGNzcz17c3R5bGV9XG4gICAgICAgIHsuLi5hcHBlYXJhbmNlUHJvcHN9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgID5cbiAgICAgICAge2hhc0ljb24gJiZcbiAgICAgICAgICB0eXBlICE9PSAnZGVmYXVsdCcgJiYgKFxuICAgICAgICAgICAgPFBhbmUgbWFyZ2luUmlnaHQ9ezh9PntnZXRJY29uRm9yVHlwZSh0eXBlKX08L1BhbmU+XG4gICAgICAgICAgKX1cbiAgICAgICAgPFBhbmUgZGlzcGxheT1cImZsZXhcIiB3aWR0aD1cIjEwMCVcIj5cbiAgICAgICAgICA8UGFuZSBmbGV4PXsxfT5cbiAgICAgICAgICAgIDxUZXh0XG4gICAgICAgICAgICAgIGlzPVwiaDRcIlxuICAgICAgICAgICAgICBmb250V2VpZ2h0PXs2MDB9XG4gICAgICAgICAgICAgIHNpemU9ezQwMH1cbiAgICAgICAgICAgICAgbWFyZ2luVG9wPXswfVxuICAgICAgICAgICAgICBtYXJnaW5Cb3R0b209ezB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt0aXRsZX1cbiAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICAgIHt0eXBlb2YgY2hpbGRyZW4gPT09ICdzdHJpbmcnID8gKFxuICAgICAgICAgICAgICA8VGV4dCBzaXplPXs0MDB9IGNvbG9yPVwibXV0ZWRcIj5cbiAgICAgICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvUGFuZT5cbiAgICAgICAgICB7aXNSZW1vdmVhYmxlICYmIChcbiAgICAgICAgICAgIDxQYW5lIG1hcmdpbkxlZnQ9ezI0fSBmbGV4U2hyaW5rPXswfT5cbiAgICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtvblJlbW92ZX1cbiAgICAgICAgICAgICAgICBoZWlnaHQ9ezI0fVxuICAgICAgICAgICAgICAgIGFwcGVhcmFuY2U9XCJnaG9zdFwiXG4gICAgICAgICAgICAgICAgaWNvbj1cImNsb3NlXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvUGFuZT5cbiAgICAgICAgICApfVxuICAgICAgICA8L1BhbmU+XG4gICAgICA8L1BhbmU+XG4gICAgKVxuICB9XG59XG4iXX0=