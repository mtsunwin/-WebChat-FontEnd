'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _uiBox = require('ui-box');

var _formField = require('../../form-field');

var _TextInput = require('./TextInput');

var _TextInput2 = _interopRequireDefault(_TextInput);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var idCounter = 0;

var TextInputField = function (_PureComponent) {
  _inherits(TextInputField, _PureComponent);

  function TextInputField(props) {
    _classCallCheck(this, TextInputField);

    var _this = _possibleConstructorReturn(this, (TextInputField.__proto__ || Object.getPrototypeOf(TextInputField)).call(this, props));

    _this.state = {
      id: (props.id || idCounter++).toString()
    };
    return _this;
  }

  _createClass(TextInputField, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          unusedId = _props.id,
          label = _props.label,
          description = _props.description,
          validationMessage = _props.validationMessage,
          inputHeight = _props.inputHeight,
          inputWidth = _props.inputWidth,
          disabled = _props.disabled,
          required = _props.required,
          isInvalid = _props.isInvalid,
          appearance = _props.appearance,
          placeholder = _props.placeholder,
          spellCheck = _props.spellCheck,
          props = _objectWithoutProperties(_props, ['id', 'label', 'description', 'validationMessage', 'inputHeight', 'inputWidth', 'disabled', 'required', 'isInvalid', 'appearance', 'placeholder', 'spellCheck']);

      var id = this.state.id;

      /**
       * Split the wrapper props from the input props.
       */

      var _splitBoxProps = (0, _uiBox.splitBoxProps)(props),
          matchedProps = _splitBoxProps.matchedProps,
          remainingProps = _splitBoxProps.remainingProps;

      return _react2.default.createElement(
        _formField.FormField,
        _extends({
          marginBottom: 24,
          label: label,
          isRequired: required,
          description: description,
          validationMessage: validationMessage,
          labelFor: id
        }, matchedProps),
        _react2.default.createElement(_TextInput2.default, _extends({
          id: id,
          width: inputWidth,
          height: inputHeight,
          disabled: disabled,
          required: required,
          isInvalid: isInvalid,
          appearance: appearance,
          placeholder: placeholder,
          spellCheck: spellCheck
        }, remainingProps))
      );
    }
  }]);

  return TextInputField;
}(_react.PureComponent);

TextInputField.propTypes = _extends({}, _TextInput2.default.propTypes, _formField.FormField.propTypes, {

  /**
   * The label used above the input element.
   */
  label: _propTypes2.default.node.isRequired,

  /**
   * Passed on the label as a htmlFor prop.
   */
  labelFor: _propTypes2.default.string,

  /**
   * Wether or not show a asterix after the label.
   */
  isRequired: _propTypes2.default.bool,

  /**
   * A optional description of the field under the input element.
   */
  description: _propTypes2.default.node,

  /**
   * If a validation message is passed it is shown under the input element
   * and above the description.
   */
  validationMessage: _propTypes2.default.node,

  /**
   * The height of the input element.
   */
  inputHeight: _propTypes2.default.number,

  /**
   * The width of the input width.
   */
  inputWidth: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string])
});
TextInputField.defaultProps = {
  /**
   * The input width should be as wide as the form field.
   */
  inputWidth: '100%',

  /**
   * Increase the height somewhat from 32 because we are dealing mainly
   * with traditional long style forms.
   */
  inputHeight: 36
};
exports.default = TextInputField;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZXh0LWlucHV0L3NyYy9UZXh0SW5wdXRGaWVsZC5qcyJdLCJuYW1lcyI6WyJpZENvdW50ZXIiLCJUZXh0SW5wdXRGaWVsZCIsInByb3BzIiwic3RhdGUiLCJpZCIsInRvU3RyaW5nIiwidW51c2VkSWQiLCJsYWJlbCIsImRlc2NyaXB0aW9uIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dEhlaWdodCIsImlucHV0V2lkdGgiLCJkaXNhYmxlZCIsInJlcXVpcmVkIiwiaXNJbnZhbGlkIiwiYXBwZWFyYW5jZSIsInBsYWNlaG9sZGVyIiwic3BlbGxDaGVjayIsIm1hdGNoZWRQcm9wcyIsInJlbWFpbmluZ1Byb3BzIiwicHJvcFR5cGVzIiwibm9kZSIsImlzUmVxdWlyZWQiLCJsYWJlbEZvciIsInN0cmluZyIsImJvb2wiLCJudW1iZXIiLCJvbmVPZlR5cGUiLCJkZWZhdWx0UHJvcHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FBRUEsSUFBSUEsWUFBWSxDQUFoQjs7SUFFcUJDLGM7OztBQTBEbkIsMEJBQVlDLEtBQVosRUFBbUI7QUFBQTs7QUFBQSxnSUFDWEEsS0FEVzs7QUFFakIsVUFBS0MsS0FBTCxHQUFhO0FBQ1hDLFVBQUksQ0FBQ0YsTUFBTUUsRUFBTixJQUFZSixXQUFiLEVBQTBCSyxRQUExQjtBQURPLEtBQWI7QUFGaUI7QUFLbEI7Ozs7NkJBRVE7QUFBQSxtQkFzQkgsS0FBS0gsS0F0QkY7QUFBQSxVQUdESSxRQUhDLFVBR0xGLEVBSEs7QUFBQSxVQU1MRyxLQU5LLFVBTUxBLEtBTks7QUFBQSxVQU9MQyxXQVBLLFVBT0xBLFdBUEs7QUFBQSxVQVFMQyxpQkFSSyxVQVFMQSxpQkFSSztBQUFBLFVBV0xDLFdBWEssVUFXTEEsV0FYSztBQUFBLFVBWUxDLFVBWkssVUFZTEEsVUFaSztBQUFBLFVBYUxDLFFBYkssVUFhTEEsUUFiSztBQUFBLFVBY0xDLFFBZEssVUFjTEEsUUFkSztBQUFBLFVBZUxDLFNBZkssVUFlTEEsU0FmSztBQUFBLFVBZ0JMQyxVQWhCSyxVQWdCTEEsVUFoQks7QUFBQSxVQWlCTEMsV0FqQkssVUFpQkxBLFdBakJLO0FBQUEsVUFrQkxDLFVBbEJLLFVBa0JMQSxVQWxCSztBQUFBLFVBcUJGZixLQXJCRTs7QUFBQSxVQXdCQ0UsRUF4QkQsR0F3QlEsS0FBS0QsS0F4QmIsQ0F3QkNDLEVBeEJEOztBQTBCUDs7OztBQTFCTywyQkE2QmtDLDBCQUFjRixLQUFkLENBN0JsQztBQUFBLFVBNkJDZ0IsWUE3QkQsa0JBNkJDQSxZQTdCRDtBQUFBLFVBNkJlQyxjQTdCZixrQkE2QmVBLGNBN0JmOztBQStCUCxhQUNFO0FBQUE7QUFBQTtBQUNFLHdCQUFjLEVBRGhCO0FBRUUsaUJBQU9aLEtBRlQ7QUFHRSxzQkFBWU0sUUFIZDtBQUlFLHVCQUFhTCxXQUpmO0FBS0UsNkJBQW1CQyxpQkFMckI7QUFNRSxvQkFBVUw7QUFOWixXQU9NYyxZQVBOO0FBU0U7QUFDRSxjQUFJZCxFQUROO0FBRUUsaUJBQU9PLFVBRlQ7QUFHRSxrQkFBUUQsV0FIVjtBQUlFLG9CQUFVRSxRQUpaO0FBS0Usb0JBQVVDLFFBTFo7QUFNRSxxQkFBV0MsU0FOYjtBQU9FLHNCQUFZQyxVQVBkO0FBUUUsdUJBQWFDLFdBUmY7QUFTRSxzQkFBWUM7QUFUZCxXQVVNRSxjQVZOO0FBVEYsT0FERjtBQXdCRDs7Ozs7O0FBeEhrQmxCLGMsQ0FDWm1CLFMsZ0JBSUYsb0JBQVVBLFMsRUFDVixxQkFBVUEsUzs7QUFFYjs7O0FBR0FiLFNBQU8sb0JBQVVjLElBQVYsQ0FBZUMsVTs7QUFFdEI7OztBQUdBQyxZQUFVLG9CQUFVQyxNOztBQUVwQjs7O0FBR0FGLGNBQVksb0JBQVVHLEk7O0FBRXRCOzs7QUFHQWpCLGVBQWEsb0JBQVVhLEk7O0FBRXZCOzs7O0FBSUFaLHFCQUFtQixvQkFBVVksSTs7QUFFN0I7OztBQUdBWCxlQUFhLG9CQUFVZ0IsTTs7QUFFdkI7OztBQUdBZixjQUFZLG9CQUFVZ0IsU0FBVixDQUFvQixDQUFDLG9CQUFVRCxNQUFYLEVBQW1CLG9CQUFVRixNQUE3QixDQUFwQjs7QUExQ0t2QixjLENBNkNaMkIsWSxHQUFlO0FBQ3BCOzs7QUFHQWpCLGNBQVksTUFKUTs7QUFNcEI7Ozs7QUFJQUQsZUFBYTtBQVZPLEM7a0JBN0NIVCxjIiwiZmlsZSI6IlRleHRJbnB1dEZpZWxkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IFB1cmVDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcbmltcG9ydCB7IHNwbGl0Qm94UHJvcHMgfSBmcm9tICd1aS1ib3gnXG5pbXBvcnQgeyBGb3JtRmllbGQgfSBmcm9tICcuLi8uLi9mb3JtLWZpZWxkJ1xuaW1wb3J0IFRleHRJbnB1dCBmcm9tICcuL1RleHRJbnB1dCdcblxubGV0IGlkQ291bnRlciA9IDBcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dElucHV0RmllbGQgZXh0ZW5kcyBQdXJlQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAvKipcbiAgICAgKiBDb21wb3NlcyB0aGUgVGV4dElucHV0IGNvbXBvbmVudCBhcyB0aGUgYmFzZS5cbiAgICAgKi9cbiAgICAuLi5UZXh0SW5wdXQucHJvcFR5cGVzLFxuICAgIC4uLkZvcm1GaWVsZC5wcm9wVHlwZXMsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGFiZWwgdXNlZCBhYm92ZSB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBsYWJlbDogUHJvcFR5cGVzLm5vZGUuaXNSZXF1aXJlZCxcblxuICAgIC8qKlxuICAgICAqIFBhc3NlZCBvbiB0aGUgbGFiZWwgYXMgYSBodG1sRm9yIHByb3AuXG4gICAgICovXG4gICAgbGFiZWxGb3I6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgICAvKipcbiAgICAgKiBXZXRoZXIgb3Igbm90IHNob3cgYSBhc3Rlcml4IGFmdGVyIHRoZSBsYWJlbC5cbiAgICAgKi9cbiAgICBpc1JlcXVpcmVkOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgIC8qKlxuICAgICAqIEEgb3B0aW9uYWwgZGVzY3JpcHRpb24gb2YgdGhlIGZpZWxkIHVuZGVyIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgICAqL1xuICAgIGRlc2NyaXB0aW9uOiBQcm9wVHlwZXMubm9kZSxcblxuICAgIC8qKlxuICAgICAqIElmIGEgdmFsaWRhdGlvbiBtZXNzYWdlIGlzIHBhc3NlZCBpdCBpcyBzaG93biB1bmRlciB0aGUgaW5wdXQgZWxlbWVudFxuICAgICAqIGFuZCBhYm92ZSB0aGUgZGVzY3JpcHRpb24uXG4gICAgICovXG4gICAgdmFsaWRhdGlvbk1lc3NhZ2U6IFByb3BUeXBlcy5ub2RlLFxuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBpbnB1dEhlaWdodDogUHJvcFR5cGVzLm51bWJlcixcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgaW5wdXQgd2lkdGguXG4gICAgICovXG4gICAgaW5wdXRXaWR0aDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnN0cmluZ10pXG4gIH1cblxuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIC8qKlxuICAgICAqIFRoZSBpbnB1dCB3aWR0aCBzaG91bGQgYmUgYXMgd2lkZSBhcyB0aGUgZm9ybSBmaWVsZC5cbiAgICAgKi9cbiAgICBpbnB1dFdpZHRoOiAnMTAwJScsXG5cbiAgICAvKipcbiAgICAgKiBJbmNyZWFzZSB0aGUgaGVpZ2h0IHNvbWV3aGF0IGZyb20gMzIgYmVjYXVzZSB3ZSBhcmUgZGVhbGluZyBtYWlubHlcbiAgICAgKiB3aXRoIHRyYWRpdGlvbmFsIGxvbmcgc3R5bGUgZm9ybXMuXG4gICAgICovXG4gICAgaW5wdXRIZWlnaHQ6IDM2XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpZDogKHByb3BzLmlkIHx8IGlkQ291bnRlcisrKS50b1N0cmluZygpXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIC8vIFdlIGFyZSB1c2luZyB0aGUgaWQgZnJvbSB0aGUgc3RhdGVcbiAgICAgIGlkOiB1bnVzZWRJZCxcblxuICAgICAgLy8gRm9ybUZpZWxkIHByb3BzXG4gICAgICBsYWJlbCxcbiAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgdmFsaWRhdGlvbk1lc3NhZ2UsXG5cbiAgICAgIC8vIFRleHRJbnB1dCBwcm9wc1xuICAgICAgaW5wdXRIZWlnaHQsXG4gICAgICBpbnB1dFdpZHRoLFxuICAgICAgZGlzYWJsZWQsXG4gICAgICByZXF1aXJlZCxcbiAgICAgIGlzSW52YWxpZCxcbiAgICAgIGFwcGVhcmFuY2UsXG4gICAgICBwbGFjZWhvbGRlcixcbiAgICAgIHNwZWxsQ2hlY2ssXG5cbiAgICAgIC8vIFJlc3QgcHJvcHMgYXJlIHNwcmVhZCBvbiB0aGUgRm9ybUZpZWxkXG4gICAgICAuLi5wcm9wc1xuICAgIH0gPSB0aGlzLnByb3BzXG5cbiAgICBjb25zdCB7IGlkIH0gPSB0aGlzLnN0YXRlXG5cbiAgICAvKipcbiAgICAgKiBTcGxpdCB0aGUgd3JhcHBlciBwcm9wcyBmcm9tIHRoZSBpbnB1dCBwcm9wcy5cbiAgICAgKi9cbiAgICBjb25zdCB7IG1hdGNoZWRQcm9wcywgcmVtYWluaW5nUHJvcHMgfSA9IHNwbGl0Qm94UHJvcHMocHJvcHMpXG5cbiAgICByZXR1cm4gKFxuICAgICAgPEZvcm1GaWVsZFxuICAgICAgICBtYXJnaW5Cb3R0b209ezI0fVxuICAgICAgICBsYWJlbD17bGFiZWx9XG4gICAgICAgIGlzUmVxdWlyZWQ9e3JlcXVpcmVkfVxuICAgICAgICBkZXNjcmlwdGlvbj17ZGVzY3JpcHRpb259XG4gICAgICAgIHZhbGlkYXRpb25NZXNzYWdlPXt2YWxpZGF0aW9uTWVzc2FnZX1cbiAgICAgICAgbGFiZWxGb3I9e2lkfVxuICAgICAgICB7Li4ubWF0Y2hlZFByb3BzfVxuICAgICAgPlxuICAgICAgICA8VGV4dElucHV0XG4gICAgICAgICAgaWQ9e2lkfVxuICAgICAgICAgIHdpZHRoPXtpbnB1dFdpZHRofVxuICAgICAgICAgIGhlaWdodD17aW5wdXRIZWlnaHR9XG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgIHJlcXVpcmVkPXtyZXF1aXJlZH1cbiAgICAgICAgICBpc0ludmFsaWQ9e2lzSW52YWxpZH1cbiAgICAgICAgICBhcHBlYXJhbmNlPXthcHBlYXJhbmNlfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPXtwbGFjZWhvbGRlcn1cbiAgICAgICAgICBzcGVsbENoZWNrPXtzcGVsbENoZWNrfVxuICAgICAgICAgIHsuLi5yZW1haW5pbmdQcm9wc31cbiAgICAgICAgLz5cbiAgICAgIDwvRm9ybUZpZWxkPlxuICAgIClcbiAgfVxufVxuIl19