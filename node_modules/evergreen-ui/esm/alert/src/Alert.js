var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

import React, { PureComponent } from 'react';
import PropTypes from 'prop-types';
import { spacing, dimensions, position, layout } from 'ui-box';
import { colors } from '../../colors';
import { Pane } from '../../layers';
import { Text } from '../../typography';
import { IconButton } from '../../buttons';
import { CheckCircleIcon, DangerIcon, QuestionIcon, WarningIcon } from '../../icons';

var getColorForType = function getColorForType(type) {
  switch (type) {
    case 'success':
      return colors.green['500'];
    case 'question':
    default:
      return colors.blue['500'];
    case 'danger':
      return colors.red['500'];
    case 'warning':
      return colors.yellow['500'];
  }
};

var getIconForType = function getIconForType(type) {
  var iconProps = {
    size: 22,
    iconSize: 14,
    color: getColorForType(type)
  };

  switch (type) {
    case 'success':
      return React.createElement(CheckCircleIcon, iconProps);
    case 'question':
    default:
      return React.createElement(QuestionIcon, iconProps);
    case 'danger':
      return React.createElement(DangerIcon, iconProps);
    case 'warning':
      return React.createElement(WarningIcon, iconProps);
  }
};

var getStyle = function getStyle(_ref) {
  var type = _ref.type;
  return {
    '&:before': {
      content: '""',
      width: 3,
      height: '100%',
      position: 'absolute',
      top: 0,
      left: 0,
      backgroundColor: getColorForType(type)
    }
  };
};

var AlertAppearances = {
  default: {
    boxShadow: 'inset 0 0 0 1px ' + colors.neutral['20A']
  },
  card: {
    elevation: 1,
    borderRadius: 3
  }
};

var Alert = function (_PureComponent) {
  _inherits(Alert, _PureComponent);

  function Alert() {
    _classCallCheck(this, Alert);

    return _possibleConstructorReturn(this, (Alert.__proto__ || Object.getPrototypeOf(Alert)).apply(this, arguments));
  }

  _createClass(Alert, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          title = _props.title,
          type = _props.type,
          hasTrim = _props.hasTrim,
          hasIcon = _props.hasIcon,
          children = _props.children,
          appearance = _props.appearance,
          isRemoveable = _props.isRemoveable,
          onRemove = _props.onRemove,
          props = _objectWithoutProperties(_props, ['title', 'type', 'hasTrim', 'hasIcon', 'children', 'appearance', 'isRemoveable', 'onRemove']);

      var style = {};
      if (hasTrim && type !== 'default') {
        style = getStyle({ type: type });
      }

      var appearanceProps = AlertAppearances[appearance];

      return React.createElement(
        Pane,
        _extends({
          role: 'alert',
          backgroundColor: 'white',
          overflow: 'hidden',
          position: 'relative',
          display: 'flex',
          paddingY: 12,
          paddingX: 16,
          css: style
        }, appearanceProps, props),
        hasIcon && type !== 'default' && React.createElement(
          Pane,
          { marginRight: 8 },
          getIconForType(type)
        ),
        React.createElement(
          Pane,
          { display: 'flex', width: '100%' },
          React.createElement(
            Pane,
            { flex: 1 },
            React.createElement(
              Text,
              {
                is: 'h4',
                fontWeight: 600,
                size: 400,
                marginTop: 0,
                marginBottom: 0
              },
              title
            ),
            typeof children === 'string' ? React.createElement(
              Text,
              { size: 400, color: 'muted' },
              children
            ) : children
          ),
          isRemoveable && React.createElement(
            Pane,
            { marginLeft: 24, flexShrink: 0 },
            React.createElement(IconButton, {
              onClick: onRemove,
              height: 24,
              appearance: 'ghost',
              icon: 'close'
            })
          )
        )
      );
    }
  }]);

  return Alert;
}(PureComponent);

Alert.propTypes = _extends({}, spacing.propTypes, position.propTypes, layout.propTypes, dimensions.propTypes, {

  /**
   * The content of the alert. When a string is passed it is wrapped in a `<Text size={400} />` component.
   */
  children: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),

  /**
   * The type of the alert.
   */
  type: PropTypes.oneOf(['default', 'success', 'warning', 'danger', 'question']),

  /**
   * The title of the alert.
   */
  title: PropTypes.node,

  /**
   * When true, show a border on the left matching the type.
   */
  hasTrim: PropTypes.bool,

  /**
   * When true, show a icon on the left matching the type,
   */
  hasIcon: PropTypes.bool,

  /**
   * When true, show a remove icon button.
   */
  isRemoveable: PropTypes.bool,

  /**
   * Function called when the remove button is clicked.
   */
  onRemove: PropTypes.func,

  /**
   * The appearance of the alert.
   */
  appearance: PropTypes.oneOf(['default', 'card'])
});
Alert.defaultProps = {
  type: 'default',
  hasTrim: true,
  hasIcon: true,
  isRemoveable: false,
  appearance: 'default'
};
export default Alert;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9hbGVydC9zcmMvQWxlcnQuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJQdXJlQ29tcG9uZW50IiwiUHJvcFR5cGVzIiwic3BhY2luZyIsImRpbWVuc2lvbnMiLCJwb3NpdGlvbiIsImxheW91dCIsImNvbG9ycyIsIlBhbmUiLCJUZXh0IiwiSWNvbkJ1dHRvbiIsIkNoZWNrQ2lyY2xlSWNvbiIsIkRhbmdlckljb24iLCJRdWVzdGlvbkljb24iLCJXYXJuaW5nSWNvbiIsImdldENvbG9yRm9yVHlwZSIsInR5cGUiLCJncmVlbiIsImJsdWUiLCJyZWQiLCJ5ZWxsb3ciLCJnZXRJY29uRm9yVHlwZSIsImljb25Qcm9wcyIsInNpemUiLCJpY29uU2l6ZSIsImNvbG9yIiwiZ2V0U3R5bGUiLCJjb250ZW50Iiwid2lkdGgiLCJoZWlnaHQiLCJ0b3AiLCJsZWZ0IiwiYmFja2dyb3VuZENvbG9yIiwiQWxlcnRBcHBlYXJhbmNlcyIsImRlZmF1bHQiLCJib3hTaGFkb3ciLCJuZXV0cmFsIiwiY2FyZCIsImVsZXZhdGlvbiIsImJvcmRlclJhZGl1cyIsIkFsZXJ0IiwicHJvcHMiLCJ0aXRsZSIsImhhc1RyaW0iLCJoYXNJY29uIiwiY2hpbGRyZW4iLCJhcHBlYXJhbmNlIiwiaXNSZW1vdmVhYmxlIiwib25SZW1vdmUiLCJzdHlsZSIsImFwcGVhcmFuY2VQcm9wcyIsInByb3BUeXBlcyIsIm9uZU9mVHlwZSIsInN0cmluZyIsIm5vZGUiLCJvbmVPZiIsImJvb2wiLCJmdW5jIiwiZGVmYXVsdFByb3BzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSxPQUFPQSxLQUFQLElBQWdCQyxhQUFoQixRQUFxQyxPQUFyQztBQUNBLE9BQU9DLFNBQVAsTUFBc0IsWUFBdEI7QUFDQSxTQUFTQyxPQUFULEVBQWtCQyxVQUFsQixFQUE4QkMsUUFBOUIsRUFBd0NDLE1BQXhDLFFBQXNELFFBQXREO0FBQ0EsU0FBU0MsTUFBVCxRQUF1QixjQUF2QjtBQUNBLFNB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ekMsVUFBVXNELEk7O0FBRW5COzs7QUFHQVosV0FBUzFDLFVBQVVzRCxJOztBQUVuQjs7O0FBR0FULGdCQUFjN0MsVUFBVXNELEk7O0FBRXhCOzs7QUFHQVIsWUFBVTlDLFVBQVV1RCxJOztBQUVwQjs7O0FBR0FYLGNBQVk1QyxVQUFVcUQsS0FBVixDQUFnQixDQUFDLFNBQUQsRUFBWSxNQUFaLENBQWhCOztBQXRES2YsSyxDQXlEWmtCLFksR0FBZTtBQUNwQjFDLFFBQU0sU0FEYztBQUVwQjJCLFdBQVMsSUFGVztBQUdwQkMsV0FBUyxJQUhXO0FBSXBCRyxnQkFBYyxLQUpNO0FBS3BCRCxjQUFZO0FBTFEsQztlQXpESE4sSyIsImZpbGUiOiJBbGVydC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBQdXJlQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnXG5pbXBvcnQgeyBzcGFjaW5nLCBkaW1lbnNpb25zLCBwb3NpdGlvbiwgbGF5b3V0IH0gZnJvbSAndWktYm94J1xuaW1wb3J0IHsgY29sb3JzIH0gZnJvbSAnLi4vLi4vY29sb3JzJ1xuaW1wb3J0IHsgUGFuZSB9IGZyb20gJy4uLy4uL2xheWVycydcbmltcG9ydCB7IFRleHQgfSBmcm9tICcuLi8uLi90eXBvZ3JhcGh5J1xuaW1wb3J0IHsgSWNvbkJ1dHRvbiB9IGZyb20gJy4uLy4uL2J1dHRvbnMnXG5pbXBvcnQge1xuICBDaGVja0NpcmNsZUljb24sXG4gIERhbmdlckljb24sXG4gIFF1ZXN0aW9uSWNvbixcbiAgV2FybmluZ0ljb25cbn0gZnJvbSAnLi4vLi4vaWNvbnMnXG5cbmNvbnN0IGdldENvbG9yRm9yVHlwZSA9IHR5cGUgPT4ge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdzdWNjZXNzJzpcbiAgICAgIHJldHVybiBjb2xvcnMuZ3JlZW5bJzUwMCddXG4gICAgY2FzZSAncXVlc3Rpb24nOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gY29sb3JzLmJsdWVbJzUwMCddXG4gICAgY2FzZSAnZGFuZ2VyJzpcbiAgICAgIHJldHVybiBjb2xvcnMucmVkWyc1MDAnXVxuICAgIGNhc2UgJ3dhcm5pbmcnOlxuICAgICAgcmV0dXJuIGNvbG9ycy55ZWxsb3dbJzUwMCddXG4gIH1cbn1cblxuY29uc3QgZ2V0SWNvbkZvclR5cGUgPSB0eXBlID0+IHtcbiAgY29uc3QgaWNvblByb3BzID0ge1xuICAgIHNpemU6IDIyLFxuICAgIGljb25TaXplOiAxNCxcbiAgICBjb2xvcjogZ2V0Q29sb3JGb3JUeXBlKHR5cGUpXG4gIH1cblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdzdWNjZXNzJzpcbiAgICAgIHJldHVybiA8Q2hlY2tDaXJjbGVJY29uIHsuLi5pY29uUHJvcHN9IC8+XG4gICAgY2FzZSAncXVlc3Rpb24nOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gPFF1ZXN0aW9uSWNvbiB7Li4uaWNvblByb3BzfSAvPlxuICAgIGNhc2UgJ2Rhbmdlcic6XG4gICAgICByZXR1cm4gPERhbmdlckljb24gey4uLmljb25Qcm9wc30gLz5cbiAgICBjYXNlICd3YXJuaW5nJzpcbiAgICAgIHJldHVybiA8V2FybmluZ0ljb24gey4uLmljb25Qcm9wc30gLz5cbiAgfVxufVxuXG5jb25zdCBnZXRTdHlsZSA9ICh7IHR5cGUgfSkgPT4gKHtcbiAgJyY6YmVmb3JlJzoge1xuICAgIGNvbnRlbnQ6ICdcIlwiJyxcbiAgICB3aWR0aDogMyxcbiAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICB0b3A6IDAsXG4gICAgbGVmdDogMCxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IGdldENvbG9yRm9yVHlwZSh0eXBlKVxuICB9XG59KVxuXG5jb25zdCBBbGVydEFwcGVhcmFuY2VzID0ge1xuICBkZWZhdWx0OiB7XG4gICAgYm94U2hhZG93OiBgaW5zZXQgMCAwIDAgMXB4ICR7Y29sb3JzLm5ldXRyYWxbJzIwQSddfWBcbiAgfSxcbiAgY2FyZDoge1xuICAgIGVsZXZhdGlvbjogMSxcbiAgICBib3JkZXJSYWRpdXM6IDNcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbGVydCBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIC8qKlxuICAgICAqIENvbXBvc2VzIHNvbWUgQm94IEFQSXMuXG4gICAgICovXG4gICAgLi4uc3BhY2luZy5wcm9wVHlwZXMsXG4gICAgLi4ucG9zaXRpb24ucHJvcFR5cGVzLFxuICAgIC4uLmxheW91dC5wcm9wVHlwZXMsXG4gICAgLi4uZGltZW5zaW9ucy5wcm9wVHlwZXMsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29udGVudCBvZiB0aGUgYWxlcnQuIFdoZW4gYSBzdHJpbmcgaXMgcGFzc2VkIGl0IGlzIHdyYXBwZWQgaW4gYSBgPFRleHQgc2l6ZT17NDAwfSAvPmAgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubm9kZV0pLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIGFsZXJ0LlxuICAgICAqL1xuICAgIHR5cGU6IFByb3BUeXBlcy5vbmVPZihbXG4gICAgICAnZGVmYXVsdCcsXG4gICAgICAnc3VjY2VzcycsXG4gICAgICAnd2FybmluZycsXG4gICAgICAnZGFuZ2VyJyxcbiAgICAgICdxdWVzdGlvbidcbiAgICBdKSxcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aXRsZSBvZiB0aGUgYWxlcnQuXG4gICAgICovXG4gICAgdGl0bGU6IFByb3BUeXBlcy5ub2RlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBzaG93IGEgYm9yZGVyIG9uIHRoZSBsZWZ0IG1hdGNoaW5nIHRoZSB0eXBlLlxuICAgICAqL1xuICAgIGhhc1RyaW06IFByb3BUeXBlcy5ib29sLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBzaG93IGEgaWNvbiBvbiB0aGUgbGVmdCBtYXRjaGluZyB0aGUgdHlwZSxcbiAgICAgKi9cbiAgICBoYXNJY29uOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgc2hvdyBhIHJlbW92ZSBpY29uIGJ1dHRvbi5cbiAgICAgKi9cbiAgICBpc1JlbW92ZWFibGU6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIHJlbW92ZSBidXR0b24gaXMgY2xpY2tlZC5cbiAgICAgKi9cbiAgICBvblJlbW92ZTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXBwZWFyYW5jZSBvZiB0aGUgYWxlcnQuXG4gICAgICovXG4gICAgYXBwZWFyYW5jZTogUHJvcFR5cGVzLm9uZU9mKFsnZGVmYXVsdCcsICdjYXJkJ10pXG4gIH1cblxuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIHR5cGU6ICdkZWZhdWx0JyxcbiAgICBoYXNUcmltOiB0cnVlLFxuICAgIGhhc0ljb246IHRydWUsXG4gICAgaXNSZW1vdmVhYmxlOiBmYWxzZSxcbiAgICBhcHBlYXJhbmNlOiAnZGVmYXVsdCdcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICB0aXRsZSxcbiAgICAgIHR5cGUsXG4gICAgICBoYXNUcmltLFxuICAgICAgaGFzSWNvbixcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgYXBwZWFyYW5jZSxcbiAgICAgIGlzUmVtb3ZlYWJsZSxcbiAgICAgIG9uUmVtb3ZlLFxuICAgICAgLi4ucHJvcHNcbiAgICB9ID0gdGhpcy5wcm9wc1xuXG4gICAgbGV0IHN0eWxlID0ge31cbiAgICBpZiAoaGFzVHJpbSAmJiB0eXBlICE9PSAnZGVmYXVsdCcpIHtcbiAgICAgIHN0eWxlID0gZ2V0U3R5bGUoeyB0eXBlIH0pXG4gICAgfVxuXG4gICAgY29uc3QgYXBwZWFyYW5jZVByb3BzID0gQWxlcnRBcHBlYXJhbmNlc1thcHBlYXJhbmNlXVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxQYW5lXG4gICAgICAgIHJvbGU9XCJhbGVydFwiXG4gICAgICAgIGJhY2tncm91bmRDb2xvcj1cIndoaXRlXCJcbiAgICAgICAgb3ZlcmZsb3c9XCJoaWRkZW5cIlxuICAgICAgICBwb3NpdGlvbj1cInJlbGF0aXZlXCJcbiAgICAgICAgZGlzcGxheT1cImZsZXhcIlxuICAgICAgICBwYWRkaW5nWT17MTJ9XG4gICAgICAgIHBhZGRpbmdYPXsxNn1cbiAgICAgICAgY3NzPXtzdHlsZX1cbiAgICAgICAgey4uLmFwcGVhcmFuY2VQcm9wc31cbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgPlxuICAgICAgICB7aGFzSWNvbiAmJlxuICAgICAgICAgIHR5cGUgIT09ICdkZWZhdWx0JyAmJiAoXG4gICAgICAgICAgICA8UGFuZSBtYXJnaW5SaWdodD17OH0+e2dldEljb25Gb3JUeXBlKHR5cGUpfTwvUGFuZT5cbiAgICAgICAgICApfVxuICAgICAgICA8UGFuZSBkaXNwbGF5PVwiZmxleFwiIHdpZHRoPVwiMTAwJVwiPlxuICAgICAgICAgIDxQYW5lIGZsZXg9ezF9PlxuICAgICAgICAgICAgPFRleHRcbiAgICAgICAgICAgICAgaXM9XCJoNFwiXG4gICAgICAgICAgICAgIGZvbnRXZWlnaHQ9ezYwMH1cbiAgICAgICAgICAgICAgc2l6ZT17NDAwfVxuICAgICAgICAgICAgICBtYXJnaW5Ub3A9ezB9XG4gICAgICAgICAgICAgIG1hcmdpbkJvdHRvbT17MH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3RpdGxlfVxuICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAge3R5cGVvZiBjaGlsZHJlbiA9PT0gJ3N0cmluZycgPyAoXG4gICAgICAgICAgICAgIDxUZXh0IHNpemU9ezQwMH0gY29sb3I9XCJtdXRlZFwiPlxuICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9QYW5lPlxuICAgICAgICAgIHtpc1JlbW92ZWFibGUgJiYgKFxuICAgICAgICAgICAgPFBhbmUgbWFyZ2luTGVmdD17MjR9IGZsZXhTaHJpbms9ezB9PlxuICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uUmVtb3ZlfVxuICAgICAgICAgICAgICAgIGhlaWdodD17MjR9XG4gICAgICAgICAgICAgICAgYXBwZWFyYW5jZT1cImdob3N0XCJcbiAgICAgICAgICAgICAgICBpY29uPVwiY2xvc2VcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9QYW5lPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvUGFuZT5cbiAgICAgIDwvUGFuZT5cbiAgICApXG4gIH1cbn1cbiJdfQ==